/* ============================================================
   OPENROOT — ELEMENTS SECTION (AURORA / GLASS / HARD ISOLATION)
   REFACTORED: 2025.7.3-REWORK
   NOTES: TOKENS SCOPED, SINGLE AURORA PSEUDO, FLEX→GRID HYBRID,
   PERFORMANCE-FRIENDLY, ACCESSIBLE, COMMENTS IN CAPS
   ============================================================ */

/* ------------------------------------------------------------------
   SCOPED DESIGN TOKENS FOR EASY EDIT (EDIT HERE TO THEME THE SECTION)
   ------------------------------------------------------------------ */
.elements-section-wrap {
  /* COLORS / GLASS */
  --es-text: #ffffff;
  --es-bg-radial-a: rgba(9,22,38,0.12);
  --es-bg-radial-b: rgba(2,9,18,0.09);
  --es-glass-bg: rgba(255,255,255,0.09);
  --es-glass-border: rgba(255,255,255,0.22);

  /* AURORA ACCENTS */
  --es-aurora-1: #000000;
  --es-aurora-2: #680aff;
  --es-aurora-3: #000000;

  /* SIZING SCALE */
  --es-padding-y: 5rem;
  --es-padding-x: 2rem;
  --es-container-max: 1000px;
  --es-gap-lg: 2.5rem;
  --es-gap-sm: 1rem;
  --es-card-radius: 20px;

  /* MOTION / TIMING */
  --es-transition: 0.35s cubic-bezier(.21,1.02,.73,1);
  --es-aurora-duration: 18s;

  /* BLUR / PERFORMANCE */
  --es-aurora-blur: 110px;
  --es-aurora-blur-sm: 44px;
  --es-backdrop-blur: 18px;

  /* BREAKPOINTS (FOLDING PHONE → PHONE → TABLET → LAPTOP → TV) */
  --es-bp-fold: 420px;  /* FOLDING / VERY SMALL */
  --es-bp-sm: 768px;    /* PHONE / SMALL TABLET */
  --es-bp-md: 1024px;   /* TABLET / LAPTOP */
  --es-bp-lg: 1440px;   /* LARGE DESKTOP */
  --es-bp-tv: 1600px;   /* TV / ULTRA */

  /* SECTION LAYOUT */
  position: relative;
  width: 100%;
  padding: var(--es-padding-y) var(--es-padding-x);
  box-sizing: border-box;
  color: var(--es-text);

  /* BACKGROUND RADIAL FOR DEPTH (SUBTLE) */
  background: radial-gradient(circle at 18% 20%, var(--es-bg-radial-a) 0%, var(--es-bg-radial-b) 70%);

  /* ISOLATE VISUAL EFFECTS AND PREVENT BLEED */
  isolation: isolate;
  clip-path: inset(0);
  overflow: hidden;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* ------------------------------------------------------------------
   AURORA (SINGLE PSEUDO-ELEMENT FOR PERFORMANCE)
   - USES ONE PSEUDO RATHER THAN MULTIPLE ELEMENTS
   - REDUCES PAINT COSTS, RESPECTS REDUCED MOTION
   ------------------------------------------------------------------ */
.elements-section-wrap::before {
  content: "";
  position: absolute;
  inset: 0;
  z-index: 0;
  pointer-events: none;

  /* COMBINE RADIALS INTO A SINGLE LAYER */
  background:
    radial-gradient(circle at 10% 80%, var(--es-aurora-1) 0%, transparent 55%),
    radial-gradient(circle at 80% 20%, var(--es-aurora-2) 0%, transparent 55%),
    radial-gradient(circle at 50% 50%, var(--es-aurora-3) 0%, transparent 60%);

  filter: blur(var(--es-aurora-blur));
  opacity: 0.6;
  transform-origin: center;
  animation: es-aurora-move var(--es-aurora-duration) infinite alternate ease-in-out;
}

/* SUBTLE AURORA MOTION */
@keyframes es-aurora-move {
  from { transform: translateX(-12%) translateY(-10%) scale(1.1); }
  to   { transform: translateX(12%)  translateY(6%)  scale(1); }
}

/* REDUCED MOTION / MOBILE PERFORMANCE TWEAKS */
@media (prefers-reduced-motion: reduce),
       (max-width: 480px) {
  .elements-section-wrap::before {
    animation: none;
    filter: blur(var(--es-aurora-blur-sm));
    opacity: 0.32;
  }
}

/* ------------------------------------------------------------------
   CONTAINER — RESPONSIVE HYBRID LAYOUT
   - DEFAULT: FLEX COLUMN (BEST FOR FOLDABLE / MOBILE STACKING)
   - SWAP TO GRID AT MD+ WHEN MULTI-COLUMN ALIGNMENT IS NEEDED
   - GRID PROVIDES BETTER ALIGNMENT FOR CARD / SIDEBAR LAYOUTS
   ------------------------------------------------------------------ */
.elements-section-wrap .elements-container {
  position: relative;
  z-index: 5; /* ABOVE AURORA */
  width: min(var(--es-container-max), 96%);
  margin-inline: auto;
  display: flex;                /* DEFAULT: FLEX FOR STACKING ON SMALL SCREENS */
  flex-direction: column;
  gap: var(--es-gap-lg);
  align-items: stretch;
  box-sizing: border-box;
  padding: 0;
}

/* SWITCH TO GRID AT TABLET / LAPTOP FOR TWO-COLUMN LAYOUT */
@media (min-width: calc(var(--es-bp-md) + 1px)) {
  .elements-section-wrap .elements-container {
    display: grid;
    grid-template-columns: 1fr 360px; /* MAIN + SIDEBAR STYLE (ADJUSTABLE) */
    gap: var(--es-gap-lg);
    align-items: start;
  }
}

/* AT VERY WIDE SCREENS, ALLOW 3-COLUMN OR WIDER SIDEBAR */
@media (min-width: var(--es-bp-lg)) {
  .elements-section-wrap .elements-container {
    grid-template-columns: 1fr 380px;
    gap: calc(var(--es-gap-lg) + 0.5rem);
  }
}

/* FOR PURE TWO-COLUMN CARD LAYOUT (OPTIONAL VARIANT)
   DEV NOTE: IF YOU HAVE MULTIPLE SECTION-CARDS TO LAYOUT AS GRID,
   ADD A WRAPPER .elements-grid INSIDE .elements-container AND USE:
   .elements-grid { display:grid; grid-template-columns: repeat(2,1fr); gap: ... }
   THIS KEEPS CONTAINERS FLEXIBLE AND SEMANTIC. */

/* ------------------------------------------------------------------
   SECTION CARD — GLASS, DEPTH, AND ACCESSIBLE INTERACTIONS
   - MINIFY HEAVY EFFECTS; USE BACKDROP BLUR WITH CARE
   - REMOVE REDUNDANT MIX-BLEND WHEN NOT NEEDED
   ------------------------------------------------------------------ */
.elements-section-wrap .section-card {
  display: flex;
  flex-direction: column;
  gap: 1rem;
  position: relative;
  overflow: hidden;
  transform-style: preserve-3d;

  /* GLASS SURFACE */
  background: var(--es-glass-bg);
  border: 1px solid var(--es-glass-border);
  border-radius: var(--es-card-radius);
  backdrop-filter: blur(var(--es-backdrop-blur));
  -webkit-backdrop-filter: blur(var(--es-backdrop-blur));

  /* DEPTH */
  box-shadow:
    inset 0 0 1px rgba(255,255,255,0.16),
    0 18px 36px rgba(0,0,0,0.55);

  padding: 1.6rem 1.8rem;
  transition: transform var(--es-transition), box-shadow var(--es-transition);
}

/* OPTIONAL HOVER LIFT ONLY ON NON-TOUCH DEVICES */
@media (hover: hover) and (pointer: fine) {
  .elements-section-wrap .section-card:hover {
    transform: translateY(-6px);
    box-shadow:
      inset 0 0 1px rgba(255,255,255,0.18),
      0 28px 56px rgba(0,0,0,0.6);
  }
}

/* ------------------------------------------------------------------
   TEXT GROUPS, TITLES, AND TYPOGRAPHY
   - KEEP COLOR / TYPOGRAPHY CONSUMABLE FROM TOKENS OR UTILS
   ------------------------------------------------------------------ */
.elements-section-wrap .text-group {
  display: flex;
  flex-direction: column;
  gap: 0.8rem;
}

/* SECTION TITLE — GRADIENT CLIP + ACCESSIBLE SIZING */
.elements-section-wrap .section-title {
  font-size: 1.4rem;
  font-weight: 900;
  text-transform: uppercase;
  letter-spacing: 1px;
  margin: 0;
  line-height: 1.1;

  /* GRADIENT TEXT (SAFE CLIP) */
  background: linear-gradient(90deg, #ffffff, #9fd8ff);
  -webkit-background-clip: text;
  background-clip: text;
  color: transparent;
  -webkit-text-fill-color: transparent;

  text-shadow: 0 0 10px rgba(255,255,255,0.18);
}

/* RESPONSIVE TITLE SCALE */
@media (max-width: var(--es-bp-sm)) {
  .elements-section-wrap .section-title { font-size: 1.2rem; }
}

/* BIO LINES — FLEX WRAP FOR SMALLER SCREENS */
.elements-section-wrap .bio-container {
  display: flex;
  flex-wrap: wrap;
  gap: 1rem;
  align-items: flex-start;
}

/* BIO ITEM — USE PADDING LEFT FOR VISUAL ALIGNMENT (KEEP RELATIVE) */
.elements-section-wrap .bio {
  font-size: 1rem;
  font-weight: 500;
  color: #eaf4ff;
  padding-left: 1.3rem;
  position: relative;
  line-height: 1.6;
  margin: 0; /* REMOVE DEFAULT MARGINS */
}

/* EMERGENCY DOT — PULSE ANIMATION (ACCESSIBLE ALTERNATIVE PROVIDED) */
.elements-section-wrap .emergency-bio::before {
  content: "";
  position: absolute;
  left: 0;
  top: 0.55rem;
  width: 0.5rem;
  height: 0.5rem;
  background: #ff1a1a;
  border-radius: 50%;
  animation: es-pulse-alert 1.5s infinite;
  transform-origin: center;
}

/* ALTERNATIVE: REDUCE MOTION FOR USERS WHO PREFER IT */
@keyframes es-pulse-alert {
  0%, 100% { opacity: 1; transform: scale(1); }
  50%     { opacity: 0.6; transform: scale(1.45); }
}
@media (prefers-reduced-motion: reduce) {
  .elements-section-wrap .emergency-bio::before {
    animation: none;
    opacity: 1;
  }
}

/* ------------------------------------------------------------------
   NEW TAG — HIGHLIGHTED BADGE
   - USE SEMANTIC COLORS; KEEP HIGH CONTRAST
   ------------------------------------------------------------------ */
.elements-section-wrap .new-tag {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  background: #00ff88;
  color: #021b10;
  font-size: 0.75rem;
  padding: 6px 12px;
  border-radius: 9999px;
  font-weight: 900;
  letter-spacing: 1px;
  white-space: nowrap;
  animation: es-smooth-pulse 2s ease-in-out infinite;
}

/* SUBTLE PULSE FOR NEW TAG */
@keyframes es-smooth-pulse {
  0%,100% { transform: scale(1); }
  50%    { transform: scale(1.08); }
}
@media (prefers-reduced-motion: reduce) {
  .elements-section-wrap .new-tag { animation: none; }
}

/* ------------------------------------------------------------------
   CTA BUTTON — ACCESSIBLE FOCUS + MOTION
   ------------------------------------------------------------------ */
.elements-section-wrap .cta-button {
  align-self: flex-end;
  font-size: 0.95rem;
  font-weight: 700;
  color: #7dc8ff;
  margin-top: 10px;
  background: transparent;
  border: none;
  padding: 0;
  cursor: pointer;
  transition: transform var(--es-transition), color var(--es-transition);
}
.elements-section-wrap .cta-button:hover,
.elements-section-wrap .cta-button:focus {
  transform: translateX(8px) scale(1.04);
  color: #ffffff;
}
.elements-section-wrap .cta-button:focus-visible {
  outline: 3px solid rgba(125,200,255,0.18);
  outline-offset: 3px;
}

/* ALIGN CTA CENTER ON SMALL SCREENS */
@media (max-width: var(--es-bp-sm)) {
  .elements-section-wrap .cta-button { align-self: center; }
}

/* ------------------------------------------------------------------
   RESPONSIVE ADJUSTMENTS
   - FOLDING PHONE: TIGHTER PADDING, STACKS
   - PHONE: REDUCE BLUR, INCREASE READABILITY
   - TABLET/LAPTOP: SWITCH TO GRID (AS DEFINED ABOVE)
   - TV: INCREASE PADDING / GAPS
   ------------------------------------------------------------------ */
@media (max-width: var(--es-bp-fold)) {
  .elements-section-wrap {
    padding: calc(var(--es-padding-y) * 0.7) 0.75rem;
  }
  .elements-section-wrap .elements-container { gap: 1.6rem; }
  .elements-section-wrap .section-card { padding: 1.2rem 1rem; }
}

@media (max-width: var(--es-bp-sm)) {
  .elements-section-wrap {
    padding: 4rem 1rem;
  }
  .elements-section-wrap::before {
    filter: blur(var(--es-aurora-blur-sm));
    opacity: 0.32;
  }
  .elements-section-wrap .bio { padding-left: 1rem; font-size: 0.98rem; }
}

@media (min-width: var(--es-bp-tv)) {
  .elements-section-wrap { padding: calc(var(--es-padding-y) * 1.2) 4rem; }
  .elements-section-wrap .elements-container { gap: calc(var(--es-gap-lg) + 1rem); }
  .elements-section-wrap .section-card { padding: 2rem 2.2rem; }
}

/* ------------------------------------------------------------------
   PERFORMANCE & FALLBACKS
   - DISABLE TRANSITIONS/ANIMATIONS FOR REDUCED MOTION
   - PROVIDE FALLBACK IF BACKDROP-FILTER NOT SUPPORTED
   ------------------------------------------------------------------ */
@supports not ((-webkit-backdrop-filter: blur(1px)) or (backdrop-filter: blur(1px))) {
  /* BACKDROP-FILTER NOT SUPPORTED — SOFTEN BACKGROUND AND BORDER */
  .elements-section-wrap .section-card {
    background: linear-gradient(180deg, rgba(255,255,255,0.04), rgba(255,255,255,0.02));
    border: 1px solid rgba(255,255,255,0.06);
  }
}

@media (prefers-reduced-motion: reduce) {
  .elements-section-wrap,
  .elements-section-wrap .section-card,
  .elements-section-wrap .new-tag,
  .elements-section-wrap .emergency-bio::before {
    transition: none !important;
    animation: none !important;
  }
}

/* ------------------------------------------------------------------
   UTILITY CLASSES (OPTIONAL)
   - .no-aurora TO HIDE AURORA
   - .compact-card TO MAKE CARD SMALLER FOR DENSE UIs
   ------------------------------------------------------------------ */
.elements-section-wrap.no-aurora::before { display: none; }
.elements-section-wrap .section-card.compact-card {
  padding: 0.9rem 1rem;
  gap: 0.6rem;
  border-radius: calc(var(--es-card-radius) - 6px);
}

/* ------------------------------------------------------------------
   DEVELOPER NOTES:
   - GRID IS USED AT MD+ WHEN YOU WANT MAIN+SIDEBAR LAYOUT.
   - KEEP .elements-grid INSIDE .elements-container IF YOU NEED AN AUTO GRID OF CARDS.
   - ALL TOKENS ARE SCOPED TO .elements-section-wrap — NO GLOBAL POLLUTION.
   - REMOVE UNUSED PROPS OR TWEAK TOKENS AT THE TOP FOR THEMING.
   ------------------------------------------------------------------ */
